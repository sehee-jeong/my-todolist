# 도메인 정의서: my-todolist

## 문서 정보

| 항목 | 내용 |
|------|------|
| 버전 | v1.2 |
| 작성일 | 2026-02-10 |
| 최종 수정일 | 2026-02-10 |

### 변경 이력

| 버전 | 날짜 | 변경 내용 |
|------|------|----------|
| v1.0 | 2026-02-10 | 최초 작성 (프로젝트 개요·도메인 모델·비즈니스 규칙·유비쿼터스 언어) |
| v1.1 | 2026-02-10 | 비즈니스 규칙에 검증 기준 열 추가, 요구사항-규칙 추적 매핑 섹션 추가 |
| v1.2 | 2026-02-10 | 문서 정보·변경 이력 섹션 추가, 비기능 요구사항 섹션 추가 |

---

## 1. 프로젝트 개요

| 항목 | 내용 |
|------|------|
| 프로젝트명 | my-todolist |
| 목적 | 인증 기반의 개인 일정 관리 웹 애플리케이션 |
| 배경 | 개인 할 일을 체계적으로 관리할 수단이 없어, 브라우저 기반의 인증된 일정 관리 도구가 필요 |
| 사용 환경 | 웹 브라우저 |

---

## 2. 핵심 도메인

| 도메인 | 설명 |
|--------|------|
| 회원(Member) | 시스템에 등록하고 인증하는 사용 주체 |
| 할 일(Todo) | 회원이 생성·관리하는 일정 단위 |

---

## 3. 도메인 모델

### 3.1 회원 (Member)

| 속성 | 타입 | 제약 | 설명 |
|------|------|------|------|
| id | UUID | PK, NOT NULL | 회원 고유 식별자 |
| email | String | UNIQUE, NOT NULL | 로그인 식별자 |
| password | String | NOT NULL | 암호화된 비밀번호 |
| nickname | String | NOT NULL | 화면 표시 이름 |
| createdAt | DateTime | NOT NULL | 회원 등록 일시 |

### 3.2 할 일 (Todo)

| 속성 | 타입 | 제약 | 설명 |
|------|------|------|------|
| id | UUID | PK, NOT NULL | 할 일 고유 식별자 |
| memberId | UUID | FK, NOT NULL | 소유 회원 식별자 |
| title | String | NOT NULL | 할 일 제목 |
| description | String | NULLABLE | 할 일 상세 설명 |
| dueDate | Date | NULLABLE | 마감 날짜 |
| status | Enum | NOT NULL | 상태 (PENDING / DONE) |
| createdAt | DateTime | NOT NULL | 생성 일시 |
| updatedAt | DateTime | NOT NULL | 최종 수정 일시 |

#### 할 일 상태 (Status)

| 값 | 의미 |
|----|------|
| PENDING | 완료되지 않은 할 일 |
| DONE | 완료된 할 일 |

#### 마감 초과 (Overdue) 판정

- `status = PENDING` 이고 `dueDate < 오늘 날짜` 인 경우 **마감 초과** 상태로 간주한다.
- Overdue는 별도 컬럼이 아닌 **조회 시 계산**되는 파생 상태이다.

---

## 4. 비즈니스 규칙

### 4.1 회원 규칙

| ID | 규칙 | 검증 기준 |
|----|------|----------|
| BR-M-01 | 누구나 이메일과 비밀번호로 회원 등록을 할 수 있다. | 이메일: RFC 5322 형식, 비밀번호: 최소 8자·영문+숫자 조합 필수 |
| BR-M-02 | 이메일은 시스템 내에서 중복될 수 없다. | 중복 시 HTTP 409 반환 |
| BR-M-03 | 비밀번호는 저장 전 반드시 단방향 암호화(해시)되어야 한다. | bcrypt 알고리즘, cost factor 10 이상 |
| BR-M-04 | 등록된 회원은 이메일과 비밀번호로 로그인하여 인증 토큰을 발급받는다. | JWT 발급, 만료 시간 24시간 |

### 4.2 할 일 규칙

| ID | 규칙 | 검증 기준 |
|----|------|----------|
| BR-T-01 | 인증된 회원만 할 일을 생성할 수 있다. | 미인증 요청 시 HTTP 401 반환 |
| BR-T-02 | 할 일은 자신이 소유한 것만 조회·수정·삭제할 수 있다. | 타인 소유 접근 시 HTTP 403 반환 |
| BR-T-03 | 할 일 생성 시 마감 날짜(dueDate)는 선택 입력이다. | dueDate 미입력 시 null 허용 |
| BR-T-04 | 할 일의 초기 상태는 PENDING 이다. | 생성 직후 status = PENDING |
| BR-T-05 | 완료 처리는 상태를 PENDING → DONE 으로 변경하는 것이다. | 이미 DONE 상태에서 완료 요청 시 HTTP 400 반환 |
| BR-T-06 | DONE 상태의 할 일도 PENDING 으로 되돌릴 수 있다. | 이미 PENDING 상태에서 되돌리기 요청 시 HTTP 400 반환 |
| BR-T-07 | status = PENDING 이고 dueDate 가 오늘보다 이전이면 Overdue(마감 초과)로 표시한다. | dueDate < TODAY AND status = PENDING → overdue: true |
| BR-T-08 | 할 일 삭제는 소프트 삭제 없이 물리 삭제로 처리한다. | 삭제 후 동일 ID 조회 시 HTTP 404 반환 |

---

## 5. 요구사항-규칙 추적 매핑

| 기능 요구사항 | 관련 비즈니스 규칙 |
|-------------|-----------------|
| 회원등록은 누구나 가능하다 | BR-M-01, BR-M-02, BR-M-03 |
| 등록된 회원은 로그인할 수 있다 | BR-M-04 |
| 인증된 사용자만 할 일을 추가할 수 있다 | BR-T-01 |
| 할 일 수정 기능 | BR-T-02 |
| 할 일 삭제 기능 | BR-T-02, BR-T-08 |
| 완료 처리 기능 | BR-T-04, BR-T-05, BR-T-06 |
| 마감 날짜 등록 | BR-T-03 |
| 마감일 초과 할 일 구분 표시 | BR-T-07 |

---

## 6. 비기능 요구사항

### 6.1 보안

| ID | 항목 | 기준 |
|----|------|------|
| NFR-S-01 | 비밀번호 암호화 | bcrypt, cost factor 10 이상 |
| NFR-S-02 | 인증 토큰 | JWT, 서버 서명 검증 필수 |
| NFR-S-03 | 토큰 만료 | 발급 후 24시간 |
| NFR-S-04 | 전송 보안 | HTTPS 통신 필수 |

### 6.2 성능

| ID | 항목 | 기준 |
|----|------|------|
| NFR-P-01 | API 응답 시간 | 일반 요청 500ms 이하 |
| NFR-P-02 | 할 일 목록 조회 | 회원당 최대 1,000건 기준 1초 이하 |

### 6.3 지원 환경

| ID | 항목 | 기준 |
|----|------|------|
| NFR-E-01 | 브라우저 | Chrome·Firefox·Safari·Edge 최신 버전 |
| NFR-E-02 | 사용 환경 | 데스크탑 웹 브라우저 (모바일 미지원) |

---

## 7. 유비쿼터스 언어

| 용어 | 영문 | 설명 |
|------|------|------|
| 회원 | Member | 시스템에 등록된 사용자 |
| 로그인 | Login | 이메일·비밀번호로 인증하는 행위 |
| 인증 토큰 | Auth Token | 로그인 성공 시 발급되는 접근 증명 값 |
| 할 일 | Todo | 회원이 관리하는 단일 일정 항목 |
| 마감 날짜 | Due Date | 할 일을 완료해야 하는 목표 날짜 |
| 미완료 | PENDING | 아직 완료되지 않은 할 일 상태 |
| 완료 | DONE | 처리가 끝난 할 일 상태 |
| 마감 초과 | Overdue | 마감 날짜가 지났으나 완료되지 않은 할 일 |
| 완료 처리 | Complete | 할 일 상태를 DONE 으로 변경하는 행위 |
| 소유자 | Owner | 해당 할 일을 생성한 회원 |
