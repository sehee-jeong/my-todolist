# PRD: my-todolist

## 문서 정보

| 항목 | 내용 |
|------|------|
| 버전 | v1.0 |
| 작성일 | 2026-02-10 |
| 근거 문서 | 도메인 정의서 v1.2 |

---

## 1. 제품 개요

### 비전
이메일 인증 기반으로 개인의 할 일을 안전하게 관리할 수 있는 웹 애플리케이션을 제공한다.

### 목표
- 회원 가입·로그인을 통해 본인 데이터만 접근 가능한 환경 구현
- 할 일 생성·수정·삭제·완료 처리·마감 초과 표시의 핵심 기능 제공
- 3일 개발 후 2026-02-13(금) 오후 MVP 출시

### 타겟 사용자
데스크탑·모바일 브라우저를 사용하는 일반인 모두

---

## 2. 사용자 페르소나

### 페르소나 A — 직장인 김민준 (32세)
- 상황: 업무·개인 일정이 혼재되어 있고, 잊어버리는 일이 잦음
- 목표: 오늘 할 일을 한눈에 파악하고 마감 초과 항목을 즉시 인지하고 싶음
- 주요 디바이스: 사무실 데스크탑, 이동 중 스마트폰
- 사용 빈도: 매일 출근 시·퇴근 전 2회 이상 접속

### 페르소나 B — 대학생 이수아 (22세)
- 상황: 과제·시험·약속 등 단기 마감이 많음
- 목표: 마감일이 임박한 항목을 빠르게 확인하고 싶음
- 주요 디바이스: 노트북, 스마트폰
- 사용 빈도: 주 5일 이상, 과제 시즌에 집중 사용

---

## 3. 기능 요구사항

### 3.1 MVP 범위 (출시 목표: 2026-02-13 오후)

#### F-01 회원가입
- 이메일·비밀번호·닉네임 입력으로 회원 등록
- 관련 규칙: BR-M-01, BR-M-02, BR-M-03

| 세부 요구사항 | 내용 |
|--------------|------|
| F-01-1 | 이메일은 RFC 5322 형식 검증 |
| F-01-2 | 비밀번호는 최소 8자, 영문+숫자 조합 필수 |
| F-01-3 | 이메일 중복 시 HTTP 409 반환 |
| F-01-4 | 비밀번호는 bcrypt(cost factor 10 이상)로 저장 |

**인수 기준**
- [ ] 유효한 이메일과 비밀번호(8자 이상, 영문+숫자) 입력 시 가입이 완료된다
- [ ] 이미 등록된 이메일로 가입 시도 시 HTTP 409가 반환된다
- [ ] 이메일 형식이 잘못된 경우 가입이 거부된다
- [ ] 비밀번호가 8자 미만이거나 영문/숫자 미포함 시 가입이 거부된다
- [ ] 저장된 비밀번호는 bcrypt 해시값이며 평문이 아니다

#### F-02 로그인
- 이메일·비밀번호 인증 후 JWT 발급
- 관련 규칙: BR-M-04

| 세부 요구사항 | 내용 |
|--------------|------|
| F-02-1 | 인증 성공 시 JWT 발급, 만료 24시간 |
| F-02-2 | 인증 실패 시 HTTP 401 반환 |

**인수 기준**
- [ ] 등록된 이메일과 올바른 비밀번호 입력 시 JWT가 발급된다
- [ ] 발급된 JWT의 만료 시간은 24시간이다
- [ ] 잘못된 비밀번호 입력 시 HTTP 401이 반환된다
- [ ] 미등록 이메일로 로그인 시도 시 HTTP 401이 반환된다

#### F-03 할 일 생성
- 제목(필수), 설명(선택), 마감 날짜(선택) 입력으로 할 일 추가
- 관련 규칙: BR-T-01, BR-T-03, BR-T-04

| 세부 요구사항 | 내용 |
|--------------|------|
| F-03-1 | 인증된 회원만 생성 가능, 미인증 시 HTTP 401 |
| F-03-2 | 생성 직후 status = PENDING |
| F-03-3 | dueDate 미입력 시 null 허용 |

**인수 기준**
- [ ] 인증된 사용자가 제목을 입력하면 할 일이 생성된다
- [ ] 생성된 할 일의 초기 status는 PENDING이다
- [ ] dueDate 없이 할 일을 생성할 수 있다
- [ ] 제목 없이 생성 요청 시 거부된다
- [ ] 미인증 사용자의 생성 요청 시 HTTP 401이 반환된다

#### F-04 할 일 목록 조회
- 본인 소유의 할 일 전체 목록 조회
- 관련 규칙: BR-T-02, BR-T-07

| 세부 요구사항 | 내용 |
|--------------|------|
| F-04-1 | 본인 소유 할 일만 반환 |
| F-04-2 | dueDate < TODAY AND status = PENDING 인 항목에 overdue: true 포함 |

**인수 기준**
- [ ] 로그인한 사용자는 본인 소유의 할 일만 조회된다
- [ ] 타인의 할 일은 목록에 포함되지 않는다
- [ ] dueDate < 오늘 AND status = PENDING인 항목의 overdue 값이 true이다
- [ ] dueDate가 없는 항목의 overdue 값은 false이다
- [ ] DONE 상태 항목은 dueDate가 지나도 overdue 값이 false이다

#### F-05 할 일 수정
- 제목·설명·마감 날짜 변경
- 관련 규칙: BR-T-02

| 세부 요구사항 | 내용 |
|--------------|------|
| F-05-1 | 인증된 회원만 수정 가능, 미인증 시 HTTP 401 |
| F-05-2 | 타인 소유 접근 시 HTTP 403 반환 |

**인수 기준**
- [ ] 인증된 소유자가 제목·설명·마감일을 수정하면 변경 내용이 저장된다
- [ ] 미인증 사용자의 수정 요청 시 HTTP 401이 반환된다
- [ ] 타인 소유 할 일 수정 시도 시 HTTP 403이 반환된다

#### F-06 할 일 삭제
- 단건 물리 삭제
- 관련 규칙: BR-T-02, BR-T-08

| 세부 요구사항 | 내용 |
|--------------|------|
| F-06-1 | 인증된 회원만 삭제 가능, 미인증 시 HTTP 401 |
| F-06-2 | 타인 소유 접근 시 HTTP 403 반환 |
| F-06-3 | 삭제 후 동일 ID 조회 시 HTTP 404 반환 |

**인수 기준**
- [ ] 인증된 소유자가 할 일을 삭제하면 DB에서 완전히 제거된다
- [ ] 삭제 후 동일 ID로 조회 시 HTTP 404가 반환된다
- [ ] 미인증 사용자의 삭제 요청 시 HTTP 401이 반환된다
- [ ] 타인 소유 할 일 삭제 시도 시 HTTP 403이 반환된다

#### F-07 완료 처리 / 완료 취소
- 할 일 상태를 PENDING ↔ DONE으로 전환
- 관련 규칙: BR-T-04, BR-T-05, BR-T-06

| 세부 요구사항 | 내용 |
|--------------|------|
| F-07-1 | 인증된 회원만 상태 변경 가능, 미인증 시 HTTP 401 |
| F-07-2 | PENDING → DONE: 완료 처리 |
| F-07-3 | 이미 DONE 상태에서 완료 요청 시 HTTP 400 반환 |
| F-07-4 | DONE → PENDING: 완료 취소 |
| F-07-5 | 이미 PENDING 상태에서 완료 취소 요청 시 HTTP 400 반환 |

**인수 기준**
- [ ] PENDING 상태의 할 일에 완료 요청 시 status가 DONE으로 변경된다
- [ ] 이미 DONE 상태에서 완료 요청 시 HTTP 400이 반환된다
- [ ] DONE 상태의 할 일에 완료 취소 요청 시 status가 PENDING으로 변경된다
- [ ] 이미 PENDING 상태에서 완료 취소 요청 시 HTTP 400이 반환된다
- [ ] 미인증 사용자의 상태 변경 요청 시 HTTP 401이 반환된다

#### F-08 마감 초과 표시
- 목록에서 Overdue 항목을 시각적으로 구분 표시
- 관련 규칙: BR-T-07

| 세부 요구사항 | 내용 |
|--------------|------|
| F-08-1 | overdue: true 항목에 붉은 계열 배지/아이콘 표시 |
| F-08-2 | 서버에서 계산된 파생 상태 사용 (별도 컬럼 아님) |

**인수 기준**
- [ ] status = PENDING이고 dueDate < 오늘인 항목에 붉은 배지가 표시된다
- [ ] DONE 상태 항목은 dueDate가 지나도 Overdue 배지가 표시되지 않는다
- [ ] dueDate가 없는 항목은 Overdue 배지가 표시되지 않는다
- [ ] Overdue 항목에 "마감 초과" 레이블이 함께 표시된다

### 3.2 2차 범위 (Post-MVP)

| 기능 | 설명 |
|------|------|
| F-P-01 회원 탈퇴 | 본인 계정 및 데이터 삭제 |
| F-P-02 프로필 수정 | 닉네임 변경 |
| F-P-03 할 일 필터/정렬 | 상태별, 마감일순 필터 |
| F-P-04 비밀번호 변경 | 현재 비밀번호 확인 후 변경 |

---

## 4. 비기능 요구사항

### 4.1 보안

| ID | 항목 | 기준 |
|----|------|------|
| NFR-S-01 | 비밀번호 암호화 | bcrypt, cost factor 10 이상 |
| NFR-S-02 | 인증 토큰 | JWT, 서버 서명 검증 필수 |
| NFR-S-03 | 토큰 만료 | 발급 후 24시간 |
| NFR-S-04 | 전송 보안 | HTTPS 통신 필수 |

### 4.2 성능

| ID | 항목 | 기준 |
|----|------|------|
| NFR-P-01 | API 응답 시간 | 일반 요청 500ms 이하 |
| NFR-P-02 | 할 일 목록 조회 | 회원당 최대 1,000건 기준 1초 이하 |

### 4.3 지원 환경

| ID | 항목 | 기준 |
|----|------|------|
| NFR-E-01 | 브라우저 | Chrome · Firefox · Safari · Edge 최신 버전 |
| NFR-E-02 | 디바이스 | 데스크탑·모바일 반응형 UI 필수 (최소 뷰포트 360px) |

---

## 5. 사용자 스토리

| ID | 스토리 | 인수 조건 | 관련 기능 |
|----|--------|-----------|-----------|
| US-01 | 사용자로서 이메일로 회원가입을 하여 서비스를 이용하고 싶다 | 유효한 이메일·비밀번호 입력 시 가입 완료, 중복 이메일 시 오류 표시 | F-01 |
| US-02 | 가입한 회원으로서 로그인하여 내 할 일에 접근하고 싶다 | 로그인 성공 시 목록 화면으로 이동 | F-02 |
| US-03 | 인증된 사용자로서 새 할 일을 추가하고 싶다 | 제목 입력 필수, 마감일 선택 후 저장 시 목록에 PENDING 항목 추가 | F-03 |
| US-04 | 사용자로서 내 할 일 목록을 확인하고 싶다 | 본인 항목만 표시, Overdue 항목은 시각적으로 구분 | F-04, F-08 |
| US-05 | 사용자로서 할 일 내용을 수정하고 싶다 | 제목·설명·마감일 변경 후 저장 가능 | F-05 |
| US-06 | 사용자로서 완료한 할 일을 DONE으로 표시하고 싶다 | 완료 버튼 클릭 시 상태 변경, 이미 DONE이면 오류 | F-07 |
| US-07 | 사용자로서 잘못 완료한 할 일을 다시 PENDING으로 돌리고 싶다 | 완료 취소 클릭 시 PENDING으로 복원 | F-07 |
| US-08 | 사용자로서 필요 없는 할 일을 삭제하고 싶다 | 삭제 확인 후 목록에서 제거, 재조회 시 404 | F-06 |
| US-09 | 사용자로서 마감일이 지난 미완료 항목을 즉시 알아보고 싶다 | Overdue 항목에 붉은 배지 표시 | F-08 |

---

## 6. UI/UX 요구사항

### 6.1 핵심 화면 목록

| 화면 | 경로 | 설명 |
|------|------|------|
| 회원가입 | /signup | 이메일·비밀번호·닉네임 입력 폼 |
| 로그인 | /login | 이메일·비밀번호 입력 폼, 가입 링크 |
| 할 일 목록 | / (인증 필요) | 전체 할 일 목록, 추가 버튼 |
| 할 일 생성 | /todos/new | 제목·설명·마감일 입력 폼 |
| 할 일 상세/수정 | /todos/:id/edit | 기존 값 불러오기, 수정 저장 |

### 6.2 반응형 UI

- 데스크탑·모바일 모두 지원 필수 (MVP 범위)
- 최소 지원 뷰포트: 360px 이상

### 6.3 Overdue 시각화 정의

- 조건: `status = PENDING` AND `dueDate < 오늘`
- 표시: 붉은 계열(`#D32F2F` 권장) 배지 또는 경고 아이콘 + "마감 초과" 레이블
- DONE 상태 항목은 Overdue 표시 없음

### 6.4 상태별 UX 원칙

- PENDING 항목: 기본 스타일
- DONE 항목: 제목에 취소선(strikethrough) 적용, 흐린 색상
- Overdue 항목: 붉은 배지 + 강조 테두리
- 목록 기본 정렬: 생성일 내림차순

### 6.5 오류 처리 UX

| 상황 | 화면 처리 |
|------|-----------|
| 미인증 접근 | 로그인 페이지로 리다이렉트 |
| 타인 리소스 접근 (403) | "접근 권한이 없습니다" 메시지 |
| 중복 이메일 (409) | 폼 하단 인라인 오류 메시지 |
| 이미 완료/미완료 (400) | 토스트 알림으로 현재 상태 안내 |

---

## 7. 기술 스택

| 영역 | 기술 | 비고 |
|------|------|------|
| 프론트엔드 | React 19 + TypeScript | Vite 기반 |
| 백엔드 | Node.js / Express | REST API |
| DB 연동 | pg | Prisma 사용 금지 |
| 데이터베이스 | PostgreSQL 17 | |
| 인증 | JWT (jsonwebtoken) | BR-M-04 요건 충족 |
| 비밀번호 해싱 | bcrypt | BR-M-03 요건 충족 |
| 배포 | Vercel | 배포 환경 구성은 MVP 범위 외 |

---

## 8. 성공 지표

| 지표 | 목표값 | 측정 기준 |
|------|--------|-----------|
| 누적 가입자 수 | 1,000명 (출시 후 3개월) | 회원 테이블 레코드 수 |
| 일간 활성 사용자 (DAU) | 300명 | 일별 로그인 고유 회원 수 |
| API 평균 응답 시간 | 500ms 이하 | 서버 모니터링 |
| 치명적 버그 (P0) | 0건 | 이슈 트래커 |

---

## 9. 마일스톤

개발 기간: 3일 (2026-02-10 ~ 2026-02-13)

| 마일스톤 | 일정 | 완료 조건 |
|----------|------|-----------|
| M1: DB 스키마 및 백엔드 API | 2026-02-10 | 회원·할 일 CRUD API 완성, JWT 인증 미들웨어 적용 |
| M2: 프론트엔드 구현 및 API 연동 | 2026-02-11 ~ 12 | 전체 화면 구현, 반응형 UI 적용, API 연동 완료 |
| M3: 통합 테스트 및 MVP 출시 | 2026-02-13 오후 | E2E 시나리오 통과, NFR-S 보안 항목 확인 후 배포 |
